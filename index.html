<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Weihnachts-Countdown f√ºr Dich</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
<style>
html,body {
  height:100%;margin:0;font-family:"Helvetica Neue",Arial,sans-serif;
  background: linear-gradient(180deg, #e0f7ff, #a0e0ff);
  color:#5a1b2b;
  overflow-x:hidden;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:28px;
  box-sizing:border-box;
  position:relative;
}

h1 {
  font-size: 2.8rem;
  margin: 12px 0 6px;
  letter-spacing: 1px;
  color: #d9447a;
  text-shadow: 0 0 12px #fff;
  text-align: center;
}

#countdown {
  font-size:2rem;
  margin-bottom:18px;
  color:#6b2b3f;
  font-family:'Dancing Script', cursive;
  text-shadow: 1px 1px 3px #ffd7ec;
}

h2 {
  margin:18px 0 8px;
  color:#7a2f45;
}

#hints {
  width:100%;
  max-width:720px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:12px;
  padding:8px 6px;
  box-sizing:border-box;
}

.hint-box {
  background: linear-gradient(180deg,#fff,#fff);
  border-radius:14px;
  padding:12px 14px;
  box-shadow:0 6px 18px rgba(90,20,40,0.06);
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:10px;
  cursor:pointer;
  user-select:none;
  border:1px solid rgba(90,20,40,0.05);
  transition:transform .14s ease, box-shadow .14s ease;
  min-height:62px;
}

.hint-box:active {
  transform:scale(.995);
}

.hint-box .meta {
  flex:0 0 56px;
  height:56px;
  border-radius:10px;
  background:linear-gradient(180deg,#ffdeea,#ffebf5);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.15rem;
}

.hint-box strong { display:block; font-size:0.95rem; color:#4b1a2d; }
.hint-box p { margin:0; font-size:0.86rem; color:#9b9b9b; }
.locked p { color:#b39fa6; }

.spark {
  position:fixed;
  width:8px;
  height:8px;
  border-radius:50%;
  pointer-events:none;
  z-index:9999;
  background:radial-gradient(circle,#fff8ff,#ffd7ec);
  box-shadow:0 0 12px rgba(217,68,122,0.7);
  mix-blend-mode:screen;
}

.snowflake {
  position: fixed;
  top: -10px;
  font-size: 16px;
  color: #ffffff;
  text-shadow: 0 0 6px #fff, 0 0 12px #cceeff;
  user-select: none;
  pointer-events: none;
  z-index: 998;
  animation: fall linear infinite;
}

@keyframes fall{
  0%{transform:translateY(0) translateX(0);opacity:1;}
  100%{transform:translateY(100vh) translateX(20px);opacity:0;}
}

.lights {
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:24px;
  display:flex;
  justify-content:space-around;
  z-index:999;
}

.light {
  width:12px;
  height:12px;
  border-radius:50%;
  animation:blink 1.5s infinite alternate;
}

@keyframes blink{0%{opacity:0.2;}100%{opacity:1;}}

@media (max-width:420px){
  .hint-box{min-height:72px;padding:14px;}
  h1{font-size:1.8rem;}
}
#tree {
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 80vw;          /* Baum breit */
  max-width: 1200px;     /* optional */
  height: auto;
  min-height: 600px;     /* Mindesth√∂he */
  background: url('weihnachtsbild01.jpg') no-repeat center bottom/contain; /* dein Baum-Bild */
  opacity: 0.15;         /* dezent */
  z-index: 0;            /* hinter allen Elementen */
  pointer-events: none;  /* klickbar bleiben die Hinweise */
}
</style>
</head>
<body>
<div id="tree"></div>
<h1>üíñ Weihnachts-Countdown f√ºr Dich üíñ</h1>
<div id="countdown" aria-live="polite">L√§dt‚Ä¶</div>
<h2>Deine t√§glichen Hinweise</h2>
<div id="hints" role="list"></div>
<div class="lights" id="lightsContainer"></div>

<script>
// Countdown
function updateCountdown(){
  const now = new Date();
  const year = now.getFullYear();
  const christmas = new Date(year,11,25,0,0,0);
  if(now > christmas){christmas.setFullYear(year+1);}
  const diff = christmas - now;
  const days = Math.floor(diff/(1000*60*60*24));
  const hours = Math.floor(diff/(1000*60*60))%24;
  const minutes = Math.floor(diff/(1000*60))%60;
  const seconds = Math.floor(diff/1000)%60;
  document.getElementById('countdown').textContent=`${days} Tage ${hours} Std ${minutes} Min ${seconds} Sek`;
}
setInterval(updateCountdown,1000);
updateCountdown();

// Hinweise
const hints = [
"Etwas, das lange unter dem Bett warten musste",
"Ein kleines Abenteuer, das in deinen H√§nden beginnt‚Ä¶",
"Etwas, das uns spielerisch n√§her zusammenbringt‚Ä¶ ü§ç",
"Ein Moment der Ruhe, den wir St√ºck f√ºr St√ºck teilen‚Ä¶ üß©",
"Etwas, das w√§chst, wenn man daran arbeitet‚Ä¶ ",
"Etwas, das ein L√§cheln hervorzaubert ‚Äì wie du bei mir‚Ä¶ üòä",
"Etwas, das du erkennen wirst, sobald du es siehst",
"Ein Kunstwerk, das wir gemeinsam erschaffen‚Ä¶ üé®",
"Ein bisschen Kindheit",
"Etwas aus vielen kleinen Teilen‚Ä¶",
"Freund und Freundin",
"Etwas, das wir buchst√§blich teilen k√∂nnen, wenn du willst",
"Ein Geschenk, das ein St√ºck unserer Geschichte tr√§gt",
"Ein Echo eines Abends, der viel bedeutete",
"Etwas, das in einem Film geboren wurde",
"Ein Herz aus Metall",
"Ein kleines Wesen mit gro√üen Augen",
"Etwas, das neugierig schaut, so wie ich manchmal zu dirüíï",
"Ein Freund, der tapfer und sanft zugleich ist",
"Etwas, das Pflanzen mag ‚Äì genau wie du üå±‚ù§Ô∏è",
"Ein Name, der an eine Wand erinnert",
"Ein Wesen, das Liebe findet ‚Äì so wie ich bei dir‚Ä¶ üíñ",
"Der erste von vielen, die wir gesehen haben",
"Ein kleiner WALL-E und eine Eve, die wir zusammen zum Leben bauenüéÅ"
];

const hintsContainer = document.getElementById('hints');

function isHintAvailable(day){
  const now = new Date();
  const hintDate = new Date(now.getFullYear(),11,day);
  return now >= hintDate;
}

function showMessage(ev, day, text){
  ev.preventDefault();
  const box = ev.currentTarget;
  const s = box.querySelector('div:last-child');

  if(isHintAvailable(day)){
    s.innerHTML = `<strong>Hinweis ${day}</strong><p>${text}</p>`;
    box.classList.remove('locked');

    // Sparkle
    const x = ev.clientX!==undefined ? ev.clientX : (ev.touches && ev.touches[0]?.clientX)||window.innerWidth/2;
    const y = ev.clientY!==undefined ? ev.clientY : (ev.touches && ev.touches[0]?.clientY)||window.innerHeight/2;
    for(let i=0;i<12;i++){
      const spark = document.createElement('div');
      spark.className='spark';
      const size = Math.random()*8 +6;
      spark.style.width = size+'px';
      spark.style.height = size+'px';
      spark.style.left = (x-size/2)+'px';
      spark.style.top = (y-size/2)+'px';
      document.body.appendChild(spark);
      const angle = Math.random()*Math.PI*2;
      const dist = Math.random()*80 + 30;
      const targetX = Math.cos(angle)*dist;
      const targetY = Math.sin(angle)*dist + (Math.random()*20-10);
      spark.animate([{transform:'translate(0,0) scale(1)',opacity:1},{transform:`translate(${targetX}px,${targetY}px) scale(.3)`,opacity:0}],
      {duration:650+Math.random()*250,easing:'cubic-bezier(.1,.9,.2,1)'});
      setTimeout(()=>spark.remove(),1100);
    }

  } else {
    s.innerHTML = `<strong>Hinweis ${day}</strong><p>${["Nicht so ungeduldig üòò","Bald wei√üt du mehr ‚ù§Ô∏è","Noch ein bisschen warten üíï"][Math.floor(Math.random()*3)]}</p>`;
  }
}

// Hinweise erstellen
hints.forEach((text, idx)=>{
  const day = idx+1;
  const box = document.createElement('div');
  box.className = 'hint-box';
  box.setAttribute('role','button'); 
  box.tabIndex = 0;
  const meta = document.createElement('div'); meta.className='meta'; meta.textContent = day;
  const s = document.createElement('div');

  if(isHintAvailable(day)){
    s.innerHTML = `<strong>Hinweis ${day}</strong><p>${text}</p>`;
  } else {
    s.innerHTML = `<strong>Hinweis ${day}</strong><p>Noch verschlossen</p>`;
    box.classList.add('locked');
    box.addEventListener('click',(ev)=>showMessage(ev, day, text),{passive:false});
    box.addEventListener('touchstart',(ev)=>showMessage(ev, day, text),{passive:false});
    box.addEventListener('keydown',(e)=>{if(e.key==='Enter'||e.key===' '){showMessage(e, day, text)}});
  }

  box.appendChild(meta);
  box.appendChild(s);
  hintsContainer.appendChild(box);
});

// Schnee
function createSnowflake(){
  const snow = document.createElement('div');
  snow.className = 'snowflake';
  snow.textContent = '‚ùÑ';
  snow.style.left = Math.random()*100 + 'vw';
  const size = Math.random()*12 + 14;
  snow.style.fontSize = size+'px';
  snow.style.animationDuration = (5+Math.random()*5)+'s';
  document.body.appendChild(snow);
  setTimeout(()=>snow.remove(),10000);
}
setInterval(createSnowflake,100);

// Lichterkette
const colors = ['#ff4f4f','#f7ff4f','#4fff4f','#4fdcff','#ff4fff'];
const lightsContainer = document.getElementById('lightsContainer');
colors.forEach(c=>{
  const l = document.createElement('div');
  l.className='light';
  l.style.background = c;
  lightsContainer.appendChild(l);
});
</script>
</body>
</html>
